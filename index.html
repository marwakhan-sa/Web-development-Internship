<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Marwa's To-do list</title>
    <style>
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: Arial, Helvetica, sans-serif;
          background: linear-gradient(135deg, #667eea, #764ba2);
          min-height: 100vh;
          display: flex;
          justify-content: center;
          align-items: flex-start;
          padding: 40px 20px;
          color: #333;
        }

        .container {
          background: white;
          width: 100%;
          max-width: 500px;
          border-radius: 16px;
          box-shadow: 0 10px 40px rgba(0,0,0,0.3);
          overflow: hidden;
        }

        .header {
          background: #667eea;
          color: white;
          padding: 30px 25px;
          text-align: center;
        }

        .header h1 {
          font-size: 2.2rem;
        }

        .input-area {
          display: flex;
          padding: 20px;
          gap: 10px;
        }

        #taskInput {
          flex: 1;
          padding: 14px 18px;
          border: 1px solid #ddd;
          border-radius: 10px;
          font-size: 1.05rem;
        }

        #addBtn {
          padding: 0 28px;
          background: #764ba2;
          color: white;
          border: none;
          border-radius: 10px;
          font-size: 1.05rem;
          cursor: pointer;
        }

        #addBtn:hover {
          background: #5a3d8a;
        }

        .task-list {
          padding: 0 20px 20px;
        }

        .task {
          display: flex;
          align-items: center;
          background: #f8f9fa;
          margin: 12px 0;
          padding: 16px;
          border-radius: 10px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.08);
          gap: 12px;
        }

        .task.completed .task-text {
          text-decoration: line-through;
          color: #888;
          flex: 1;
        }

        .task-text {
          flex: 1;
          font-size: 1.1rem;
          cursor: pointer;
        }

        .task-actions button {
          background: none;
          border: none;
          font-size: 1.4rem;
          cursor: pointer;
          padding: 6px;
        }

        .edit-btn { color: #3498db; }
        .delete-btn { color: #e74c3c; }

        .stats {
          padding: 15px 25px;
          background: #f8f9fa;
          display: flex;
          justify-content: space-between;
          font-size: 0.95rem;
          color: #555;
        }

        .stats button {
          background: none;
          border: none;
          color: #e74c3c;
          cursor: pointer;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>My To-Do List</h1>
    </div>

    <div class="input-area">
        <input type="text" id="taskInput" placeholder="Add a new task..." />
        <button id="addBtn">Add</button>
    </div>

    <div class="task-list" id="taskList"></div>

    <div class="stats">
        <span id="itemsLeft">0 items left</span>
        <button id="clearCompleted">Clear completed</button>
    </div>
</div>

<script>
    const taskInput = document.getElementById('taskInput');
    const addBtn = document.getElementById('addBtn');
    const taskList = document.getElementById('taskList');
    const itemsLeft = document.getElementById('itemsLeft');
    const clearCompletedBtn = document.getElementById('clearCompleted');

    let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

    function saveTasks() {
      localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    function renderTasks() {
      taskList.innerHTML = '';

      tasks.forEach((task, index) => {
        const li = document.createElement('div');
        li.className = 'task' + (task.completed ? ' completed' : '');

        li.innerHTML = `
          <input type="checkbox" ${task.completed ? 'checked' : ''} onchange="toggleComplete(${index})" />
          <span class="task-text" ondblclick="editTask(${index})">${task.text}</span>
          <div class="task-actions">
            <button class="edit-btn" onclick="editTask(${index})">‚úèÔ∏è</button>
            <button class="delete-btn" onclick="deleteTask(${index})">üóëÔ∏è</button>
          </div>
        `;

        taskList.appendChild(li);
      });

      updateStats();
    }

    function addTask() {
      const text = taskInput.value.trim();
      if (!text) return;

      tasks.push({ text, completed: false });
      saveTasks();
      taskInput.value = '';
      renderTasks();
    }

    window.toggleComplete = function(index) {
      tasks[index].completed = !tasks[index].completed;
      saveTasks();
      renderTasks();
    };

    window.editTask = function(index) {
      const newText = prompt("Edit task:", tasks[index].text);
      if (newText === null) return;
      const trimmed = newText.trim();
      if (trimmed) {
        tasks[index].text = trimmed;
        saveTasks();
        renderTasks();
      }
    };

    window.deleteTask = function(index) {
      if (confirm("Delete this task?")) {
        tasks.splice(index, 1);
        saveTasks();
        renderTasks();
      }
    };

    clearCompletedBtn.addEventListener('click', () => {
      tasks = tasks.filter(t => !t.completed);
      saveTasks();
      renderTasks();
    });

    taskInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') addTask();
    });

    addBtn.addEventListener('click', addTask);

    function updateStats() {
      const active = tasks.filter(t => !t.completed).length;
      itemsLeft.textContent = `${active} item${active !== 1 ? 's' : ''} left`;
    }

    // Load tasks on page load
    renderTasks();
</script>
</body>
</html>